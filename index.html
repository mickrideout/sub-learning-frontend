<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SubLearning - Learn Languages Through Movies</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+Pro:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-blue: #2563EB;
            --secondary-purple: #7C3AED;
            --success-green: #10B981;
            --neutral-gray: #64748B;
            --light-gray: #F1F5F9;
            --dark-gray: #1E293B;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF;
            color: var(--dark-gray);
        }
        
        .movie-title {
            font-family: 'Source Serif Pro', serif;
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-blue) !important;
        }
        
        .language-section {
            background-color: var(--light-gray);
            padding: 2rem 0;
            margin-bottom: 2rem;
        }
        
        .language-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--neutral-gray);
            padding-top: 2rem;
        }
        
        .form-select {
            border: 2px solid #E2E8F0;
            border-radius: 8px;
            padding: 0.75rem;
            font-weight: 500;
        }
        
        .form-select:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 0.2rem rgba(37, 99, 235, 0.25);
        }
        
        .form-label {
            font-weight: 600;
            color: var(--dark-gray);
            margin-bottom: 0.5rem;
        }
        
        .search-container {
            max-width: 600px;
            margin: 0 auto 2rem auto;
        }
        
        .search-input {
            border: 2px solid #E2E8F0;
            border-radius: 50px;
            padding: 0.75rem 1rem 0.75rem 3rem;
            font-size: 1rem;
        }
        
        .search-input:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 0.2rem rgba(37, 99, 235, 0.25);
        }
        
        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--neutral-gray);
        }
        
        .alphabet-nav {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            margin-bottom: 2rem;
        }
        
        .alphabet-nav .nav-link {
            color: var(--neutral-gray);
            font-weight: 600;
            padding: 0.5rem 0.75rem;
            margin: 0 0.25rem;
            border-radius: 6px;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        
        .alphabet-nav .nav-link:hover,
        .alphabet-nav .nav-link.active {
            background-color: var(--primary-blue);
            color: white;
        }
        
        .movie-list {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            min-height: 400px;
        }
        
        .movie-title-link {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--dark-gray);
            text-decoration: none;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            transition: all 0.2s ease;
            font-size: 1.1rem;
        }
        
        .movie-title-link:hover {
            background-color: var(--light-gray);
            color: var(--primary-blue);
            text-decoration: none;
            transform: translateX(4px);
        }
        
        .no-results {
            text-align: center;
            color: var(--neutral-gray);
            font-size: 1.1rem;
            padding: 3rem 0;
        }
        
        .btn-primary {
            background-color: var(--primary-blue);
            border-color: var(--primary-blue);
            border-radius: 8px;
            padding: 0.5rem 1.5rem;
            font-weight: 500;
        }
        
        .btn-outline-primary {
            color: var(--primary-blue);
            border-color: var(--primary-blue);
            border-radius: 8px;
            padding: 0.5rem 1.5rem;
            font-weight: 500;
        }
        
        .btn-outline-primary:hover {
            background-color: var(--primary-blue);
            border-color: var(--primary-blue);
        }
        
        footer {
            background-color: var(--dark-gray);
            color: white;
            padding: 2rem 0;
            margin-top: 4rem;
        }
        
        footer a {
            color: white;
            text-decoration: none;
        }
        
        footer a:hover {
            color: var(--primary-blue);
        }
        
        @media (max-width: 768px) {
            .language-arrow {
                padding-top: 0;
                padding: 1rem 0;
            }
            
            .alphabet-nav {
                text-align: center;
            }
            
            .alphabet-nav .nav {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .movie-list {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="/">SubLearning</a>
            <div class="d-flex">
                <a href="/login" class="btn btn-outline-primary me-2">Login</a>
                <a href="/register" class="btn btn-primary">Register</a>
            </div>
        </div>
    </nav>

    <!-- Language Selection Section -->
    <section class="language-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-5">
                    <label for="fromLanguage" class="form-label">From:</label>
                    <select class="form-select" id="fromLanguage">
                        <option value="english" selected>English</option>
                        <option value="spanish">Spanish</option>
                        <option value="french">French</option>
                        <option value="german">German</option>
                        <option value="italian">Italian</option>
                        <option value="portuguese">Portuguese</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <div class="language-arrow">
                        <i class="bi bi-arrow-right"></i>
                    </div>
                </div>
                <div class="col-md-5">
                    <label for="toLanguage" class="form-label">To:</label>
                    <select class="form-select" id="toLanguage">
                        <option value="english">English</option>
                        <option value="spanish" selected>Spanish</option>
                        <option value="french">French</option>
                        <option value="german">German</option>
                        <option value="italian">Italian</option>
                        <option value="portuguese">Portuguese</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container">
        <!-- Search Bar -->
        <div class="search-container">
            <div class="position-relative">
                <i class="bi bi-search search-icon"></i>
                <input type="text" class="form-control search-input" id="searchInput" placeholder="Search movie titles...">
            </div>
        </div>

        <!-- Alphabet Navigation -->
        <div class="alphabet-nav">
            <nav class="nav justify-content-center" id="alphabetNav">
                <a class="nav-link" href="#" data-letter="all">All</a>
                <a class="nav-link" href="#" data-letter="a">A</a>
                <a class="nav-link" href="#" data-letter="b">B</a>
                <a class="nav-link" href="#" data-letter="c">C</a>
                <a class="nav-link" href="#" data-letter="d">D</a>
                <a class="nav-link" href="#" data-letter="e">E</a>
                <a class="nav-link" href="#" data-letter="f">F</a>
                <a class="nav-link" href="#" data-letter="g">G</a>
                <a class="nav-link" href="#" data-letter="h">H</a>
                <a class="nav-link" href="#" data-letter="i">I</a>
                <a class="nav-link" href="#" data-letter="j">J</a>
                <a class="nav-link" href="#" data-letter="k">K</a>
                <a class="nav-link" href="#" data-letter="l">L</a>
                <a class="nav-link" href="#" data-letter="m">M</a>
                <a class="nav-link" href="#" data-letter="n">N</a>
                <a class="nav-link" href="#" data-letter="o">O</a>
                <a class="nav-link" href="#" data-letter="p">P</a>
                <a class="nav-link" href="#" data-letter="q">Q</a>
                <a class="nav-link" href="#" data-letter="r">R</a>
                <a class="nav-link" href="#" data-letter="s">S</a>
                <a class="nav-link" href="#" data-letter="t">T</a>
                <a class="nav-link" href="#" data-letter="u">U</a>
                <a class="nav-link" href="#" data-letter="v">V</a>
                <a class="nav-link" href="#" data-letter="w">W</a>
                <a class="nav-link" href="#" data-letter="x">X</a>
                <a class="nav-link" href="#" data-letter="y">Y</a>
                <a class="nav-link" href="#" data-letter="z">Z</a>
            </nav>
        </div>

        <!-- Movie List -->
        <div class="movie-list">
            <div class="row" id="movieContainer">
                <!-- Movies will be dynamically populated here -->
            </div>
            <div class="no-results d-none" id="noResults">
                <i class="bi bi-film" style="font-size: 3rem; opacity: 0.3;"></i>
                <p class="mt-3">No movies found for your search criteria.</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <a href="/about" class="me-4">About</a>
                    <a href="/help">Help</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Sample movie data organized by language pairs
        const movieData = {
            'english-spanish': [
                'Amélie', 'Coco', 'Roma', 'Y Tu Mamá También', 'The Secret in Their Eyes',
                'Talk to Her', 'Amour', 'Pan\'s Labyrinth', 'The Motorcycle Diaries', 'Biutiful',
                'All About My Mother', 'Women on the Verge of a Nervous Breakdown', 'Volver',
                'The Sea Inside', 'Bad Education', 'Live Flesh', 'Kika', 'High Heels'
            ],
            'english-french': [
                'Amélie', 'The Lives of Others', 'Cinema Paradiso', 'Amour', 'The Hunt',
                'Blue Is the Warmest Color', 'The Artist', 'A Very Long Engagement',
                'Tell No One', 'The Intouchables', 'La Vie en Rose', 'Jules and Jim',
                'The 400 Blows', 'Breathless', 'Contempt', 'Pierrot le Fou'
            ],
            'english-german': [
                'The Lives of Others', 'The Hunt', 'Mustang', 'Wings of Desire',
                'Run Lola Run', 'The Cabinet of Dr. Caligari', 'Metropolis',
                'M', 'Ali: Fear Eats the Soul', 'The Marriage of Maria Braun',
                'Good bye, Lenin!', 'Head-On', 'The White Ribbon'
            ],
            'english-italian': [
                'Cinema Paradiso', 'Bicycle Thieves', 'La Dolce Vita', 'Fellini\'s 8½',
                'The Leopard', 'Umberto D.', 'Rome, Open City', 'L\'Avventura',
                'Il Postino', 'Life Is Beautiful', 'The Great Beauty'
            ],
            'english-portuguese': [
                'City of God', 'Elite Squad', 'Central Station', 'The Two of Us',
                'Carandiru', 'Madame Satã', 'Lower City', 'Neighboring Sounds',
                'Aquarius', 'Bacurau', 'Kleber Mendonça Filho'
            ],
            'spanish-english': [
                'The Departed', 'Parasite', 'A Separation', 'Moonlight',
                'Manchester by the Sea', 'Lady Bird', 'Call Me by Your Name',
                'Three Billboards Outside Ebbing, Missouri', 'The Shape of Water',
                'Get Out', 'Dunkirk', 'Phantom Thread'
            ],
            'french-english': [
                'The Departed', 'Parasite', 'A Separation', 'Manchester by the Sea',
                'Moonlight', 'La La Land', 'Arrival', 'Hell or High Water',
                'Fences', 'Hidden Figures', 'Lion', 'Hacksaw Ridge'
            ],
            'german-english': [
                'The Departed', 'Parasite', 'Moonlight', 'Lady Bird',
                'Three Billboards Outside Ebbing, Missouri', 'The Shape of Water',
                'Get Out', 'Call Me by Your Name', 'Phantom Thread'
            ],
            'italian-english': [
                'The Departed', 'Parasite', 'A Separation', 'Moonlight',
                'Manchester by the Sea', 'Lady Bird', 'The Shape of Water'
            ],
            'portuguese-english': [
                'The Departed', 'Parasite', 'Moonlight', 'Manchester by the Sea',
                'Lady Bird', 'Three Billboards Outside Ebbing, Missouri'
            ]
        };

        let currentMovies = [];
        let filteredMovies = [];
        let currentFilter = '';
        let currentLetter = 'all';

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateMovieList();
            setupEventListeners();
            setActiveAlphabetLink('all');
        });

        function setupEventListeners() {
            // Language selection change
            document.getElementById('fromLanguage').addEventListener('change', updateMovieList);
            document.getElementById('toLanguage').addEventListener('change', updateMovieList);

            // Search input
            document.getElementById('searchInput').addEventListener('input', function(e) {
                currentFilter = e.target.value.toLowerCase();
                filterAndDisplayMovies();
            });

            // Alphabet navigation
            document.getElementById('alphabetNav').addEventListener('click', function(e) {
                e.preventDefault();
                if (e.target.classList.contains('nav-link')) {
                    currentLetter = e.target.dataset.letter;
                    setActiveAlphabetLink(currentLetter);
                    filterAndDisplayMovies();
                }
            });
        }

        function updateMovieList() {
            const fromLang = document.getElementById('fromLanguage').value;
            const toLang = document.getElementById('toLanguage').value;
            const languagePair = `${fromLang}-${toLang}`;
            
            currentMovies = movieData[languagePair] || [];
            filterAndDisplayMovies();
        }

        function filterAndDisplayMovies() {
            filteredMovies = currentMovies.filter(movie => {
                const matchesSearch = !currentFilter || movie.toLowerCase().includes(currentFilter);
                const matchesLetter = currentLetter === 'all' || movie.toLowerCase().startsWith(currentLetter);
                return matchesSearch && matchesLetter;
            });

            displayMovies();
        }

        function displayMovies() {
            const container = document.getElementById('movieContainer');
            const noResults = document.getElementById('noResults');

            if (filteredMovies.length === 0) {
                container.innerHTML = '';
                noResults.classList.remove('d-none');
                return;
            }

            noResults.classList.add('d-none');

            // Create movie links in responsive columns
            const movieElements = filteredMovies.map(movie => {
                const slug = movie.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
                return `
                    <div class="col-lg-4 col-md-6 col-12">
                        <a href="/learn/${slug}" class="movie-title-link movie-title">
                            ${movie}
                        </a>
                    </div>
                `;
            }).join('');

            container.innerHTML = movieElements;
        }

        function setActiveAlphabetLink(letter) {
            // Remove active class from all links
            document.querySelectorAll('#alphabetNav .nav-link').forEach(link => {
                link.classList.remove('active');
            });

            // Add active class to the selected link
            document.querySelector(`#alphabetNav .nav-link[data-letter="${letter}"]`).classList.add('active');
        }
    </script>
</body>
</html>